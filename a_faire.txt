================================================================================
                    GUIDE DE CRÉATION - VOL OPÉRÉ (vol_opere)
================================================================================

DATE DE CRÉATION : 15 janvier 2026
OBJECTIF : Créer la page de gestion des vols opérés (liste et formulaire)

================================================================================
1. TABLES CONCERNÉES
================================================================================

TABLE PRINCIPALE :
  - vol_opere (id, ligne_vol_id, avion_id, date_heure_depart, date_heure_arrivee, 
               status_id, retard_minutes, created_at, updated_at)

TABLES LIÉES (Foreign Keys) :
  - ligne_vol (numero_vol, aeroport_depart_id, aeroport_arrivee_id, 
               duree_estimee_minutes, distance_km, description)
  - avion (code_avion, model_avion_id, etat_avion_id, capacite_totale)
  - status_vol (libelle, description)

TABLES INDIRECTEMENT LIÉES :
  - aeroport (via ligne_vol - pour afficher départ/arrivée)
  - model_avion (via avion - pour afficher le modèle)
  - etat_avion (via avion - pour afficher l'état)

================================================================================
2. PAGE LISTE
================================================================================

FLUX :
  sidebar.jsp → VolOpereServlet.doGet() → listVolOperes() → VolOpereDAO.getAll() 
  → setAttribute("vols") → forward list.jsp

FONCTIONS :
  VolOpereServlet.doGet(request, response) : void
  VolOpereServlet.listVolOperes(request, response) : void
  VolOpereDAO.getAll() : List<VolOpere>

TABLES SQL (JOIN) :
  vol_opere + ligne_vol + aeroport (x2) + avion + model_avion + status_vol

COLONNES AFFICHÉES (list.jsp) :
  - Numéro Vol (ligne_vol.numero_vol)
  - Route (aeroport.ville départ → arrivée)
  - Avion (avion.code_avion + model_avion.designation)
  - Départ (vol_opere.date_heure_depart)
  - Arrivée (vol_opere.date_heure_arrivee)
  - Statut (status_vol.libelle)
  - Retard (vol_opere.retard_minutes)
  - Actions (Modifier, Supprimer)

================================================================================
3. PAGE FORMULAIRE
================================================================================

FLUX AJOUT :
  list.jsp (btn Ajouter) → VolOpereServlet.doGet(action=add) → showAddForm() 
  → LigneVolDAO.getAll() + AvionDAO.getAll() + StatusVolDAO.getAll()
  → setAttribute("lignes", "avions", "status") → forward form.jsp

FLUX SOUMISSION :
  form.jsp (submit) → VolOpereServlet.doPost() → insertVolOpere() ou updateVolOpere()
  → VolOpereDAO.insert(vol) ou VolOpereDAO.update(vol) → redirect /vol-opere

CHAMPS FORMULAIRE (form.jsp) :
  - Ligne de vol (dropdown) → ligne_vol_id
    Source: LigneVolDAO.getAll() → List<LigneVol>
    Affichage: numero_vol + route (départ → arrivée)
  
  - Avion (dropdown) → avion_id
    Source: AvionDAO.getAll() → List<Avion>
    Affichage: code_avion + designation modèle
  
  - Statut (dropdown) → status_id
    Source: StatusVolDAO.getAll() → List<StatusVol>
    Affichage: libelle

FONCTIONS :
  VolOpereServlet.showAddForm(request, response) : void
  
  VolOpereServlet.insertVolOpere(request, response) : void
  VolOpereServlet.updateVolOpere(request, response) : void
  VolOpereDAO.getById(id : int) : VolOpere
  VolOpereDAO.insert(vol : VolOpere) : boolean
  VolOpereDAO.update(vol : VolOpere) : boolean
  LigneVolDAO.getAll() : List<LigneVol>
  AvionDAO.getAll() : List<Avion>
  StatusVolDAO.getAll() : List<StatusVol>


================================================================================
4. FICHIERS À CRÉER/MODIFIER
================================================================================

BACKEND (Java) :
  [ ] src/model/VolOpere.java
  [ ] src/dao/VolOpereDAO.java
  [ ] src/controller/VolOpereServlet.java
  [ ] WebContent/WEB-INF/web.xml (mapping /vol-opere)

FRONTEND (JSP) :
  [ ] WebContent/jsp/volopere/list.jsp
  [ ] WebContent/jsp/volopere/form.jsp
  [ ] WebContent/jsp/common/sidebar.jsp (ajouter menu)

================================================================================
5. DÉPENDANCES NÉCESSAIRES
================================================================================

DAO REQUIS :
  - LigneVolDAO (pour formulaire)
  - AvionDAO (pour formulaire)
  - StatusVolDAO (pour formulaire)

MODELS REQUIS :
  - LigneVol
  - Avion
  - StatusVol

================================================================================
FIN DU GUIDE
================================================================================
